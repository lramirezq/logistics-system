<div class="container">
  <div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
      <h1>Operaciones</h1>
      <%= link_to "Nueva Operaci√≥n", new_operation_path, class: "btn btn-primary" %>
    </div>

    <div style="overflow-x: auto;">
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="background-color: #f8fafc; border-bottom: 2px solid #e5e7eb;">
            <th style="padding: 1rem; text-align: left;">N¬∞ Operaci√≥n</th>
            <th style="padding: 1rem; text-align: left;">Tipo</th>
            <th style="padding: 1rem; text-align: left;">Fecha</th>
            <th style="padding: 1rem; text-align: left;">Shipper</th>
            <th style="padding: 1rem; text-align: left;">Consignatario</th>
            <th style="padding: 1rem; text-align: left;">ETD</th>
            <th style="padding: 1rem; text-align: left;">ETA</th>
            <th style="padding: 1rem; text-align: center;">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <% @operations.each do |operation| %>
            <tr style="border-bottom: 1px solid #e5e7eb;">
              <td style="padding: 1rem;"><%= operation.numero_operacion %></td>
              <td style="padding: 1rem;"><%= operation.tipo_operacion %></td>
              <td style="padding: 1rem;"><%= operation.fecha.strftime('%d/%m/%Y') if operation.fecha %></td>
              <td style="padding: 1rem;"><%= operation.shipper&.nombre_comercial || operation.shipper&.razon_social %></td>
              <td style="padding: 1rem;"><%= operation.consignatario&.nombre_comercial || operation.consignatario&.razon_social %></td>
              <td style="padding: 1rem;"><%= operation.etd.strftime('%d/%m/%Y') if operation.etd %></td>
              <td style="padding: 1rem;"><%= operation.eta.strftime('%d/%m/%Y') if operation.eta %></td>
              <td style="padding: 1rem; text-align: center;">
                <div style="display: flex; justify-content: center; align-items: center; gap: 0.5rem;">
                  <%= link_to operation, title: "Ver", style: "color: #3b82f6; text-decoration: none; font-size: 1.2rem;" do %>
                    üëÅÔ∏è
                  <% end %>
                  <%= link_to edit_operation_path(operation), title: "Editar", style: "color: #f59e0b; text-decoration: none; font-size: 1.2rem;" do %>
                    ‚úèÔ∏è
                  <% end %>
                  <%= button_to operation, method: :delete, 
                      confirm: "¬øEst√°s seguro?", title: "Eliminar", 
                      style: "background: none; border: none; color: #ef4444; cursor: pointer; font-size: 1.2rem; padding: 0; margin: 0;" do %>
                    ‚ùå
                  <% end %>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
      
      <% if @operations.empty? %>
        <div style="text-align: center; padding: 2rem; color: #6b7280;">
          No hay operaciones registradas.
        </div>
      <% end %>
    </div>
  </div>
</div>